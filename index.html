<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Typing Game</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico" />
    <script src="src/StateMachine.js"></script>
    <script src="src/TextProcessor.js"></script>
    <script src="src/TypingMachine.js"></script>
    <script>
        var MainState = new StateMachine();

        var Processor = new TextProcessor();
        var TypingMachine;

        function StartProgram() {
            TypingMachine = new TypingMachine(document.getElementById('target'), MainState.runOnce);
            MainState.enqueue(StartLetterAll).runOnce();
        }

        function StartDemo() {
            document.getElementById('background-pic').src = "assets/train.jpg";
            const target = document.getElementById('target');
            Processor.clearDiv(target);
            Processor.processToDiv(target, 'Hello -honey,-/ how/ :are: ^you?^ ');
            TypingMachine.startTyping();
        }

        function StartLetter1() {
            document.getElementById('background-pic').src = "assets/train.jpg";
            const target = document.getElementById('target');
            Processor.clearDiv(target);
            Processor.processToDiv(target,
                'Day 1 France \n' +
                'Dear Sweetie, \n' +
                'I was finally able to read through all of your letters. \n' +
                'Tell Tony that I am proud of his test scores. I am glad that you are all doing alright. ' +
                'I miss being able to go home after a long day and be with you. \n' +
                'I am on the train to France. The training was tough, but I endured. ' +
                'We got up early and went to sleep late. ' +
                'We had three meals a day, and half an hour to eat each. ' +
                'Every day for breakfast I had some toast and eggs, just like the ones you made, except with fresher eggs and French bread. ' +
                'It, however, could never match the breakfasts that you made. ' +
                'The other meals were combinations of things like cheese, bread, vegetables, and potatoes. \n' +
                'Even after all of this, it is still astonishing to think I was with you but a small while ago. ' +
                ':It feels like the training has gone rather fast, ' +
                'but I heard rumors that my company is basically set up to do chores for the higher ups.: \n' +
                "Anyways, the train is coming to a stop soon, so I have to go. I love you so much, I'll send more letters when I can. \n\n\n");
            TypingMachine.startTyping();
        }

        function StartLetterAll() {
            document.getElementById('background-pic').src = "assets/train.jpg";
            const target = document.getElementById('target');
            Processor.clearDiv(target);
            Processor.processToDiv(target,
                'Day 1 France \n' +
                'Dear Sweetie, \n' +
                'I was finally able to read through all of your letters. \n' +
                'Tell Tony that I am proud of his test scores. I am glad that you are all doing alright. ' +
                'I miss being able to go home after a long day and be with you. \n' +
                'I am on the train to France. The training was tough, but I endured. ' +
                'We got up early and went to sleep late. ' +
                'We had three meals a day, and half an hour to eat each. ' +
                'Every day for breakfast I had some toast and eggs, just like the ones you made, except with fresher eggs and French bread. ' +
                'It, however, could never match the breakfasts that you made. ' +
                'The other meals were combinations of things like cheese, bread, vegetables, and potatoes. \n' +
                'Even after all of this, it is still astonishing to think I was with you but a small while ago. ' +
                ':It feels like the training has gone rather fast, ' +
                'but I heard rumors that my company is basically set up to do chores for the higher ups.: \n' +
                "Anyways, the train is coming to a stop soon, so I have to go. I love you so much, I'll send more letters when I can. \n\n\n");
            Processor.processToDiv(target,
                'Day 50, France \n' +
                'Dear Sweetie, \n' +
                'I got some of your letters again. ' +
                'Yes, I do actually miss your cooking, ' +
                'and yes, I will see if I can bring authentic French bread back home after this ordeal. ' +
                'Though it seems like the locals know Americans have money and are willing to part with ' +
                'it as long as they have it. Therefore, I am on the hunt for a good deal. I will see if ' +
                'I can write more often as well. \n' +
                'I am in a region of France close to the ocean. We are in a -dangerous-/safe/ place, ' +
                'though we are all sleeping on stone floors. :I think I am in a church? ' +
                "Or what was a church.: -It is completely destroyed. I can't " +
                'imagine what it must have been like to be inside while it was taking fire. ' +
                "-/We are in a pretty place./ I know you would like to know more about it, " +
                "but I can't say very much about where I am. Maybe I'll take you here after the war. \n" +
                'There is a rumour that several high ranking German officers were taken prisoner. But alas, it is a rumour. ' +
                'I do hope it is true, however. \n' +
                "Anyways, I have to go. I am so happy you love me. :We go closer to the front tomorrow.: Don't you worry though, sweetheart. I love you! \n\n\n");
            Processor.processToDiv(target,
                "Day 75 \n" +
                "Dear Sweetie, \n" +
                "I guess you could say I'm no longer a rookie. " +
                "The Germans threw about 1500 bodies of hate at us since my last letter. " +
                "And oh boy what a time that was. It looks like we are getting a break which " +
                "is why I'm able to write this letter. -There are so many bodies. " +
                "-/Oh how I wish I was with you instead of here./ But, there was a rumour " +
                "that the Boche is on the run... 28,000 prisoners have been captured. " +
                "We might be coming close to the end of this-. " +
                "Though there will be no end to the suffering and trauma we have seen for a long time.-/./ \n" +
                ":We are moving away from where we are now, as the Germans know we are here. " +
                "I heard that we are going to a French Chateaux.: " +
                "It should be really pretty there-, though it is closer to Germany.-/./ \n" +
                "I'll send you another letter when I am settled my love. Until next time, I love you. \n\n\n");
            Processor.processToDiv(target,
                "Day 80 \n" +
                "Dear Sweetie, \n" +
                "A lot has happened in the past 5 days. " +
                "I just need to get it onto paper and out of my head so this letter will have some rambling. \n" +
                "First of all, you need to know that I was shot. " +
                "-It hurts like hell-/I am okay,/ and it looks like I might have to go home early. " +
                "-My squad leader wasn't so lucky.-/It was/ a minor skirmish :and we got away with minimal injuries:. " +
                "It looks like I might have to use crutches for awhile after I get back home. \n" +
                "Next, rumors of the armistice are resurfacing. The word is that it will happen very soon. " +
                "I'm very hopeful this time as it seems like everyone has had enough of this conflict-. " +
                "The gunfire rings in our ears every day. We can't even collect our thoughts.-/./ \n" +
                "Anyways. I have to go now. I'll know if I'm going to be discharged soon. " +
                "I'll let you know when I am coming home. I love you. " +
                "I thank God every night knowing that I am one day closer to coming home to you and Tony. \n\n\n");
            Processor.processToDiv(target,
                "Day 90 \n" +
                "Dear Sweetie, \n" +
                "The rumors were correct. " +
                "The armistice is signed. All conflict stopped today. " +
                "It is surreal -not hearing any gunfire or artillery-/how quiet it is./ " +
                "It is as if all horrors of the world were expelled at exactly 11:00 am. \n" +
                "It is fantastic knowing that this is done and over with. " +
                "I should be home in less than a month, " +
                "but it looks like a lot of people will be staying in Germany to " +
                "make sure that nothing as bad as this can arise again. \n" +
                "I'll talk to you soon, Sweetie. I love you. \n\n\n");
            TypingMachine.startTyping();
        }
    </script>
</head>
<body onload="StartProgram()">
    <img id="background-pic" />
    <div class="journal">
        <img src="assets/journal.png" />
        <div class="page" id="target"></div>
    </div>
</body>
</html>